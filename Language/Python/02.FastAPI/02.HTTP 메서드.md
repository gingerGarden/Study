# 2. HTTP 메서드 (HTTP Verb)
* 클라이언트가 서버에 요청하는 **행동(Action)** 의 종류

* 다음 4가지는 **REST API의 핵심 원칙 중 하나인 CRUD와 1:1 대응** 됨

<br>

|메서드|의미|사용 목적|CRUD 매핑|
|----|----|----|----|
|GET|데이터 가져오기|서버에서 리소스(데이터)를 조회|Read|
|POST|새 데이터 생성|서버에 새 리소스 추가|Create|
|PUT|기존 데이터 수정|서버에 있는 리소스를 전체 교체 or 수정|Update|
|DELETE|데이터 삭제|서버에서 리소스 제거|Delete|

<br>

* REST API는 리소스를 URL로 표현하고, 행동은 HTTP 메서드로 표현

* GET/POST/PUT/DELETE는 리소스(데이터)를 다루는 방법
* REST API 설계 시 이 4개만으로 대부분 작업 가능

<br>

```python

@app.get("/todos")
def get_todos():
    return [{"id": 1, "task": "FastAPI 공부"}]

@app.post("/todos")
def create_todo(todo: dict):
    return {"message": "할 일 생성 완료", "todo": todo}

@app.put("/todos/{todo_id}")
def update_todo(todo_id: int, todo: dict):
    return {"message": f"할 일 {todo_id} 수정 완료"}

@app.delete("/todos/{todo_id}")
def delete_todo(todo_id: int):
    return {"message": f"할 일 {todo_id} 삭제 완료"}
```

<br>
<br>

## A. 표준 HTTP 메서드 9가지
* HTTP 메서드는 총 9개가 표준으로 정의되어 있으며, 그외에도 특수 목적 메서드 존재
* **API 개발에선 GET, POST, PUT, DELETE, PATCH 이 5가지가 많이 사용 됨**

|메서드|주요 용도|REST API 사용 빈도|
|---|---|---|
|GET|리소스 조회 (읽기 전용)|⭐⭐⭐⭐⭐ 매우 많음|
|POST|리소스 생성|⭐⭐⭐⭐⭐ 매우 많음|
|PUT|리소스 전체 수정 (전체 교체)|⭐⭐⭐ 자주 사용|
|PATCH|리소스 일부 수정 (부분 수정)|⭐⭐⭐ 자주 사용|
|DELETE|리소스 삭제|⭐⭐⭐ 자주 사용|
|HEAD|리소스의 메타데이터만 조회|⭐ 거의 안 씀|
|OPTIONS|지원하는 메서드/옵션 조회|⭐ 거의 안 씀|
|TRACE|요청 경로 추적 (디버깅용)|🔒 거의 안 씀|
|CONNECT|프록시 서버와 터널링 설정 (HTTPS)|🔒 거의 안 씀|

<br>
<br>

## B. 실전에서 주로 쓰는 메서드 5가지
|메서드|설명|
|---|---|
|GET|서버에서 데이터 가져오기(Read)|
|POST|서버에 새 데이터 생성(Create)|
|PUT|기존 데이터 전체 수정(Update)|
|PATCH|기존 데이터 일부 수정(Partial Update)|
|DELETE|데이터 삭제(Delete)|

<br>
<br>

## C. 나머지 메서드

* 위 5가지는 REST API 설계의 **CRUD(Create, Read, Update, Delete)** 와 매칭됨

* HEAD
> * GET과 같지만 본문 없이 헤더만 반환
> * 용도: 데이터 크기 확인, 리소스 존재 여부 확인
```bash
# bash
HEAD /resource HTTP/1.1
```

<br>

* OPTIONS
> * 특정 URL에 대해 서버가 허용하는 메서드 목록 반환
> * 용도: CORS 프리플라이트 요청에서 자동 호출

````bash
# bash - request
OPTIONS /api/items HTTP/1.1

# vbnet - response
Allow: GET, POST, OPTIONS
```

<br>

* TRACE
> * 요청이 서버까지 어떻게 전달되는지 추적 (디버깅용)
> * 보안 문제로 거의 사용 안 함

<br>

* CONNECT
> * HTTPS처럼 프록시 서버와 터널링 설정 시 사용
> * REST API에서는 사용 안 함
